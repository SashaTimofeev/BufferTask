# BufferTask

Проект реализует буфер для записи данных в API. Данные приходят залпом и сохраняются поштучно, каждая следующая запись начинается после завершения предыдущей.

### Структура проекта

- **cmd/main.go**  
  Точка входа. Запускает буфер и добавляет 10 тестовых фактов.
- **pkg/buffer/buffer.go**  
  Реализация буфера для записи данных.
- **pkg/api/client.go**  
  Клиент для работы с API (сохранение и получение фактов).
- **pkg/model/model.go**  
  Определение структуры данных (факт).

### Установка и запуск

С установленным Go выполните следующие действия:

1. Клонируйте репозиторий:
```bash
git clone https://github.com/SashaTimofeev/BufferTask.git
```

2. Перейдите в папку BufferTask/cmd:
```bash
cd BufferTask/cmd/
```

3. Запустите файл main.go:
```bash
go run main.go
```

### Работа программы

1. **Запуск**  
	- После запуска main.go создаётся API-клиент и буфер
	- Программа начинает ожидать входящие данные
2. **Добавление фактов**  
	   - В коде main.go тестово добавляется 10 записей в буфер
3. **Обработка буфера**  
	- Каждая запись сохраняется поштучно
	- Новая запись отправляется только после успешного сохранения предыдущей
	- Все операции выполняются в отдельной горутине
4. **Завершение работы**  
	- Программа продолжает работать, пока не будет остановлена вручную
	- Для выхода нажмите CTRL + C
	- После этого программа корректно завершит все текущие операции и закроет буфер.
